# LeadScraper LATAM - Descripci贸n del Proyecto (Prompt Inicial)

**Objetivo General**:  
Desarrollar un script Python que automatice la extracci贸n diaria de leads comerciales en LATAM desde **Google Maps**, **Instagram** y **directorios p煤blicos**, y los guarde en **Google Sheets**, para que agencias de marketing puedan acceder a datos locales sin esfuerzo manual.

---

##  **Requisitos Clave**  
1. **Fuentes de Datos**:  
   - **Google Maps**: Nombre, direcci贸n, tel茅fono, sitio web.  
   - **Instagram**: Perfil, biograf铆a, ubicaci贸n.  
   - **Directorios P煤blicos**: Nombre, rubro, tel茅fono (ej: c谩maras de comercio).  

2. **Procesamiento**:  
   - Eliminar duplicados.  
   - Validar formato de tel茅fonos/emails (regex b谩sico).  

3. **Entrega Automatizada**:  
   - Actualizar **Google Sheets** diariamente v铆a API.  
   - Columnas: Nombre, Tel茅fono, Email, Instagram, Fuente, Fecha.  

4. **Tecnolog铆as**:  
   - Python, BeautifulSoup, Selenium (scraping).  
   - Instaloader (Instagram).  
   - Pandas (limpieza de datos).  
   - Google Sheets API (gspread).  

5. **Hosting/CI**:  
   - GitHub Actions para ejecuci贸n diaria gratuita.  

---

##  **Entregables**  
- **Script Python** modular (scrapers + procesamiento + integraci贸n).  
- **Google Sheets** preconfigurado con datos de ejemplo.  
- **Documentaci贸n** para despliegue y uso.  

---

## 锔 **Pasos T茅cnicos**  
1. **Scraping**:  
   - Google Maps: Extraer datos de b煤squedas locales (ej: "restaurantes CDMX").  
   - Instagram: Scrapear perfiles por hashtags/ubicaciones.  
   - Directorios: Extraer tablas HTML/CSV de fuentes p煤blicas.  

2. **Limpieza**:  
   - Eliminar filas duplicadas basadas en nombre/tel茅fono.  
   - Validar emails (ej: `usuario@dominio.com`).  

3. **Integraci贸n**:  
   - Enviar datos a Google Sheets usando credenciales OAuth2.  

4. **Automatizaci贸n**:  
   - Programar ejecuci贸n diaria con GitHub Actions.  

---

## 锔 **Riesgos y Mitigaci贸n**  
- **Bloqueos de IP**: Rotar User-Agents y usar delays (`time.sleep`). Usar `undetected-chromedriver`. Limitar consultas. Manejo de errores robusto.
- **Datos incompletos**: Incluir columna "Calidad del Lead" en Sheets.
- **Cambios en estructura web**: Monitoreo manual frecuente y c贸digo modular.
- **CAPTCHAs**: Detectar y pausar/detener.
- **L铆mites GitHub Actions**: Considerar ejecuci贸n local si es necesario.

---

##  **Ejemplo de Flujo (Mermaid)**  
```mermaid
flowchart LR
    A[Scrape Google Maps (Selenium)] --> B[Procesar datos (Pandas)]
    C[Scrape Instagram (Instaloader/Selenium - Baja Prio)] --> B
    D[Scrape Directorios/Web (Requests/BS4/Selenium)] --> B
    B --> E[Validar y limpiar]
    E --> F[Actualizar Google Sheets (gspread)] 
```
